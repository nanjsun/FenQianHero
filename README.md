## 主页上线
欢迎大家访问
[www.fenqian.me](www.fenqian.me)

## 演示
- 自动提交答案
![image](https://github.com/nanjsun/FenQianHero/blob/master/autoHandin.gif)

- 切换不同的APP
![image](https://github.com/nanjsun/FenQianHero/blob/master/switchAPP%26OCR.gif)

## 更新日志

- 2018-02-07 增加手动点击模拟器右上角 辅助识别答题区域
- 2018-02-05 自动识别答题区域的状态（答题或者公布答案）
- 2018-02-03 集成搜狗汪仔答题助手
- 2018-01-31 本地自动识别有效答题区域功能完成，自动检测答题区域、自动搜索、自动提交答案功能初步实现！
- 2018-01-30 增加百度OCR，并输出识别文字的坐标，为后续自动识别答题区准备
- 2018-01-19 增加模拟器模拟按键触发提交答案方式；
- 2018-01-16 修正自动提交答案不成功bug；

## 主要特性

- 速度快，调用阿里的OCR API，2s 内可以返回OCR结果，5秒内返回答案；
- 自动识别题目，在出题前打开软件后，软件可自动识别题目，题目出现后自动运行，无需点击开始等操作；
- 准确率高，OCR 正确率90%以上的结果
- 加入自动提交功能，在倒计时前一秒，如果还未作答，会自动提交识别出的结果；


## 工作原理
1.  使用安卓模拟器登录百万英雄（代指所有此类答题游戏）；
2.  利用图像识别技术识别答题区域；
3.  调用百度OCR API（每天500次），返回json 格式的信息；
4.  解析json信息，提取题目和选项以及ABC选项的坐标； 
5.  调用百度API ，搜索题目，在搜索结果中匹配各选项，并将出现次数最多的选项返回； 
6.  在答题倒计时最后2s 的时候，软件自动点击正确选项，提交答案。

## 使用方法
1. 下载代码；
2. 使用Maven仓库下载依赖；
3. 配置软件：
- 下载安装模拟器，推荐[夜神模拟器](https://www.yeshen.com/)；
- 运行FenQianHero\src\main\java\com\fenqian\gui\javafx\WorkShop.java；
- 选择答题APP；
- 待答题软件出现白色答题板时进行后续步骤（或者在模拟器中打开对应APP的答题截图）；
- 点击searchValidRegion 按钮，此时桌面变绿色，点击模拟器的左上角后，软件将自动识别答题区域吗，并显示在右侧区域；
- 若识别失败，可多次执行上一步；
- 以上为配置步骤，配置完成后进入答题状态：
4. 点击Let's go 按钮，进入答题状态。此时软件将自动识别识别题目，并自动提交答案。为提高效率，可在APP未出题时提前点击Let's go.
5. 5s 内打印出答案，若未在8s 内作答，软件将在8s左右自动选择搜索出的结果（具体时间可自行在代码里面设置）。


## TODO

1. 完善GUI
2. 支持模拟器多开；
3. 集成其他软件答案；
